<!-- templates/index.html -->
{% extends "base.html" %}

{% block content %}
<!-- Hero —Å–µ–∫—Ü–∏—è -->
<div class="row min-vh-75 align-items-center mb-5">
    <div class="col-lg-6">
        <h1 class="display-3 fw-bold mb-4">
            <span class="text-gradient">NFT –ú–∞—Ä–∫–µ—Ç</span>
            <br>–≤ Telegram
        </h1>
        <p class="lead mb-4 text-white-50">
            –ü–æ–∫—É–ø–∞–π—Ç–µ –∏ –ø—Ä–æ–¥–∞–≤–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ NFT —Å –ø–æ–º–æ—â—å—é Telegram Stars ‚≠êÔ∏è
            –°–∞–º–∞—è —Å–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫—É–ø–æ–∫/–ø—Ä–æ–¥–∞–∂ –ø—Ä—è–º–æ –≤ Telegram!
        </p>
        
        <div class="d-flex gap-3 mb-4">
            {% if current_user.is_authenticated %}
            <a href="/market" class="btn btn-primary btn-lg">
                <i class="fas fa-store"></i> –ü–µ—Ä–µ–π—Ç–∏ –≤ –º–∞—Ä–∫–µ—Ç
            </a>
            <a href="/inventory" class="btn btn-outline-primary btn-lg">
                <i class="fas fa-box"></i> –ú–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
            </a>
            {% else %}
            <a href="/login" class="btn btn-primary btn-lg">
                <i class="fab fa-telegram"></i> –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
            </a>
            <a href="#how-it-works" class="btn btn-outline-primary btn-lg">
                <i class="fas fa-play"></i> –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
            </a>
            {% endif %}
        </div>
        
        <div class="row g-4">
            <div class="col-md-4">
                <div class="d-flex align-items-center">
                    <div class="feature-icon bg-primary bg-opacity-25 rounded-circle p-3 me-3">
                        <i class="fas fa-bolt text-primary fa-2x"></i>
                    </div>
                    <div>
                        <h6 class="mb-0">–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ</h6>
                        <small class="text-white-50">–ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</small>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="d-flex align-items-center">
                    <div class="feature-icon bg-success bg-opacity-25 rounded-circle p-3 me-3">
                        <i class="fas fa-shield-alt text-success fa-2x"></i>
                    </div>
                    <div>
                        <h6 class="mb-0">–ë–µ–∑–æ–ø–∞—Å–Ω–æ</h6>
                        <small class="text-white-50">–ó–∞—â–∏—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</small>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="d-flex align-items-center">
                    <div class="feature-icon bg-warning bg-opacity-25 rounded-circle p-3 me-3">
                        <i class="fas fa-star text-warning fa-2x"></i>
                    </div>
                    <div>
                        <h6 class="mb-0">Telegram Stars</h6>
                        <small class="text-white-50">–£–¥–æ–±–Ω–∞—è –æ–ø–ª–∞—Ç–∞</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-lg-6">
        <div class="position-relative">
            <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ NFT -->
            <div class="floating-card card" style="top: 0; right: 20%; animation-delay: 0s;">
                <img src="https://via.placeholder.com/100" class="card-img-top" alt="NFT">
                <div class="card-body">
                    <h6>Cosmic #42</h6>
                    <span class="badge-stars">100 ‚≠êÔ∏è</span>
                </div>
            </div>
            
            <div class="floating-card card" style="top: 100px; right: 40%; animation-delay: 0.5s;">
                <img src="https://via.placeholder.com/100" class="card-img-top" alt="NFT">
                <div class="card-body">
                    <h6>Pixel Art #7</h6>
                    <span class="badge-stars">250 ‚≠êÔ∏è</span>
                </div>
            </div>
            
            <div class="floating-card card" style="top: 200px; right: 10%; animation-delay: 1s;">
                <img src="https://via.placeholder.com/100" class="card-img-top" alt="NFT">
                <div class="card-body">
                    <h6>Dragon #13</h6>
                    <span class="badge-stars">500 ‚≠êÔ∏è</span>
                </div>
            </div>
            
            <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
            <div class="hero-image text-center">
                <i class="fas fa-cube fa-10x text-primary opacity-25"></i>
            </div>
        </div>
    </div>
</div>

<!-- –°–µ–∫—Ü–∏—è "–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç" -->
<section id="how-it-works" class="mb-5">
    <h2 class="text-center mb-5">
        <span class="text-gradient">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</span>
    </h2>
    
    <div class="row g-4">
        <div class="col-md-3">
            <div class="step-card card h-100">
                <div class="card-body text-center">
                    <div class="step-number">1</div>
                    <i class="fas fa-robot fa-3x text-primary mb-3"></i>
                    <h5>–û—Ç–ø—Ä–∞–≤—å—Ç–µ NFT –±–æ—Ç—É</h5>
                    <p class="text-white-50">–ü–µ—Ä–µ—à–ª–∏—Ç–µ NFT –±–æ—Ç—É @NFTReceiverBot –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–¥–∞–∂–∏</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-3">
            <div class="step-card card h-100">
                <div class="card-body text-center">
                    <div class="step-number">2</div>
                    <i class="fas fa-tag fa-3x text-success mb-3"></i>
                    <h5>–£–∫–∞–∂–∏—Ç–µ —Ü–µ–Ω—É</h5>
                    <p class="text-white-50">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ü–µ–Ω—É –≤ Telegram Stars –∏ –æ–ø–∏—Å–∞–Ω–∏–µ</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-3">
            <div class="step-card card h-100">
                <div class="card-body text-center">
                    <div class="step-number">3</div>
                    <i class="fas fa-store fa-3x text-warning mb-3"></i>
                    <h5>NFT –≤ –º–∞—Ä–∫–µ—Ç–µ</h5>
                    <p class="text-white-50">–í–∞—à NFT –ø–æ—è–≤–∏—Ç—Å—è –≤ –æ–±—â–µ–º –º–∞—Ä–∫–µ—Ç–µ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-3">
            <div class="step-card card h-100">
                <div class="card-body text-center">
                    <div class="step-number">4</div>
                    <i class="fas fa-coins fa-3x text-info mb-3"></i>
                    <h5>–ü–æ–ª—É—á–∏—Ç–µ Stars</h5>
                    <p class="text-white-50">–ü–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ Stars –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—á–∏—Å–ª—è—Ç—Å—è –Ω–∞ –±–∞–ª–∞–Ω—Å</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- –°–µ–∫—Ü–∏—è —Å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏ -->
<section class="mb-5">
    <h2 class="text-center mb-5">
        <span class="text-gradient">–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å</span>
    </h2>
    
    <div class="row align-items-center">
        <div class="col-lg-6">
            <div class="row g-4">
                <div class="col-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <i class="fas fa-bolt fa-3x text-primary mb-3"></i>
                            <h5>–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏</h5>
                            <p class="text-white-50">–ü–æ–∫—É–ø–∫–∞ –∏ –ø—Ä–æ–¥–∞–∂–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –∑–∞ —Å–µ–∫—É–Ω–¥—ã –±–ª–∞–≥–æ–¥–∞—Ä—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <i class="fas fa-lock fa-3x text-success mb-3"></i>
                            <h5>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h5>
                            <p class="text-white-50">–í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ API Telegram</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <i class="fas fa-star fa-3x text-warning mb-3"></i>
                            <h5>Telegram Stars</h5>
                            <p class="text-white-50">–£–¥–æ–±–Ω–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –≤–∞–ª—é—Ç–∞, –∫–æ—Ç–æ—Ä—É—é –ª–µ–≥–∫–æ –ø–æ–ø–æ–ª–Ω–∏—Ç—å</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <i class="fas fa-users fa-3x text-info mb-3"></i>
                            <h5>–ê–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</h5>
                            <p class="text-white-50">–¢—ã—Å—è—á–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä–æ–≤ NFT</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-6">
            <div class="stats-card">
                <h3 class="mb-4">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</h3>
                
                <div class="row text-center">
                    <div class="col-4">
                        <div class="stats-number" id="totalUsers">0</div>
                        <div class="text-white-50">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                    </div>
                    <div class="col-4">
                        <div class="stats-number" id="totalNFTs">0</div>
                        <div class="text-white-50">NFT –ø—Ä–æ–¥–∞–Ω–æ</div>
                    </div>
                    <div class="col-4">
                        <div class="stats-number" id="totalStars">0</div>
                        <div class="text-white-50">Stars –≤ –æ–±–æ—Ä–æ—Ç–µ</div>
                    </div>
                </div>
                
                <hr class="bg-secondary">
                
                <div class="text-center">
                    <p class="mb-2">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞–º –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!</p>
                    {% if not current_user.is_authenticated %}
                    <a href="/login" class="btn btn-primary">
                        <i class="fab fa-telegram"></i> –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- –°–µ–∫—Ü–∏—è —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ NFT -->
<section class="mb-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>
            <span class="text-gradient">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ NFT</span>
        </h2>
        <a href="/market" class="btn btn-outline-primary">
            –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ <i class="fas fa-arrow-right"></i>
        </a>
    </div>
    
    <div class="row" id="popularNFTs">
        <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ NFT —á–µ—Ä–µ–∑ API -->
    </div>
</section>

<!-- –°–µ–∫—Ü–∏—è —Å –æ—Ç–∑—ã–≤–∞–º–∏ -->
<section class="mb-5">
    <h2 class="text-center mb-5">
        <span class="text-gradient">–ß—Ç–æ –≥–æ–≤–æ—Ä—è—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
    </h2>
    
    <div class="row">
        <div class="col-md-4 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <img src="https://via.placeholder.com/50" class="rounded-circle me-3" alt="User">
                        <div>
                            <h6 class="mb-0">@crypto_collector</h6>
                            <div class="text-warning">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-white-50">
                        "–õ—É—á—à–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ NFT –≤ Telegram! 
                        –û—á–µ–Ω—å —É–¥–æ–±–Ω–æ, —á—Ç–æ –≤—Å—ë –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å Telegram Stars."
                    </p>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <img src="https://via.placeholder.com/50" class="rounded-circle me-3" alt="User">
                        <div>
                            <h6 class="mb-0">@nft_artist</h6>
                            <div class="text-warning">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-white-50">
                        "–ü—Ä–æ–¥–∞–ª —Å–≤–æ–∏ –ø–µ—Ä–≤—ã–µ NFT –∏–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å. –ü—Ä–æ—Ü–µ—Å—Å –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π 
                        –∏ –ø–æ–Ω—è—Ç–Ω—ã–π, –∞ –∫–æ–º–∏—Å—Å–∏–∏ –ø—Ä–∏—è—Ç–Ω–æ —É–¥–∏–≤–ª—è—é—Ç!"
                    </p>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <img src="https://via.placeholder.com/50" class="rounded-circle me-3" alt="User">
                        <div>
                            <h6 class="mb-0">@trader_2024</h6>
                            <div class="text-warning">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-white-50">
                        "–û—Ç–ª–∏—á–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ç—Ä–µ–π–¥–∏–Ω–≥–∞ NFT. –ë—ã—Å—Ç—Ä—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, 
                        —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –æ—Ç–ª–∏—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞."
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA —Å–µ–∫—Ü–∏—è -->
<section class="mb-5">
    <div class="card bg-gradient">
        <div class="card-body text-center p-5">
            <h2 class="mb-4">–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å?</h2>
            <p class="lead mb-4 text-white-50">
                –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Å–∞–º–æ–º—É –±—ã—Å—Ç—Ä–æ—Ä–∞—Å—Ç—É—â–µ–º—É NFT-—Å–æ–æ–±—â–µ—Å—Ç–≤—É –≤ Telegram
            </p>
            {% if not current_user.is_authenticated %}
            <a href="/login" class="btn btn-primary btn-lg">
                <i class="fab fa-telegram"></i> –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
            </a>
            {% else %}
            <a href="/market" class="btn btn-primary btn-lg">
                <i class="fas fa-store"></i> –ü–µ—Ä–µ–π—Ç–∏ –≤ –º–∞—Ä–∫–µ—Ç
            </a>
            {% endif %}
        </div>
    </div>
</section>

<style>
/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π */
.text-gradient {
    background: linear-gradient(45deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.min-vh-75 {
    min-height: 75vh;
}

.floating-card {
    position: absolute;
    width: 150px;
    animation: float 6s ease-in-out infinite;
    z-index: 10;
}

@keyframes float {
    0%, 100% {
        transform: translateY(0px) rotate(0deg);
    }
    50% {
        transform: translateY(-20px) rotate(5deg);
    }
}

.step-card {
    position: relative;
    overflow: hidden;
}

.step-number {
    position: absolute;
    top: -10px;
    right: -10px;
    width: 60px;
    height: 60px;
    background: linear-gradient(45deg, var(--primary), var(--secondary));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    font-weight: bold;
    opacity: 0.2;
}

.feature-icon {
    transition: all 0.3s;
}

.feature-icon:hover {
    transform: scale(1.1);
    box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3);
}

.bg-gradient {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
}

.hero-image {
    animation: pulse 3s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% {
        opacity: 0.5;
        transform: scale(1);
    }
    50% {
        opacity: 0.8;
        transform: scale(1.1);
    }
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
.card {
    animation: fadeInUp 0.5s ease forwards;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* –°—á–µ—Ç—á–∏–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
.stats-number {
    font-size: 2.5rem;
    font-weight: bold;
    color: var(--primary);
    line-height: 1.2;
}

/* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã */
@media (max-width: 768px) {
    .floating-card {
        display: none;
    }
    
    .display-3 {
        font-size: 2.5rem;
    }
    
    .step-card {
        margin-bottom: 1rem;
    }
}
</style>

<script>
// –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö NFT –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    loadStats();
    loadPopularNFTs();
});

function loadStats() {
    fetch('/api/platform/stats')
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                animateNumber('totalUsers', 0, data.total_users, 2000);
                animateNumber('totalNFTs', 0, data.total_nfts, 2000);
                animateNumber('totalStars', 0, data.total_stars, 2000);
            }
        })
        .catch(error => {
            console.error('Error loading stats:', error);
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ–º–æ-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            animateNumber('totalUsers', 0, 15420, 2000);
            animateNumber('totalNFTs', 0, 8923, 2000);
            animateNumber('totalStars', 0, 1250000, 2000);
        });
}

function loadPopularNFTs() {
    fetch('/api/nfts/popular?limit=4')
        .then(response => response.json())
        .then(data => {
            if (data.success && data.nfts.length > 0) {
                displayPopularNFTs(data.nfts);
            } else {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ–º–æ-–∫–∞—Ä—Ç–æ—á–∫–∏
                displayDemoNFTs();
            }
        })
        .catch(error => {
            console.error('Error loading popular NFTs:', error);
            displayDemoNFTs();
        });
}

function displayPopularNFTs(nfts) {
    const container = document.getElementById('popularNFTs');
    container.innerHTML = '';
    
    nfts.forEach(nft => {
        const col = document.createElement('div');
        col.className = 'col-md-3 mb-4';
        col.innerHTML = `
            <div class="card h-100">
                <img src="${nft.image_url || 'https://via.placeholder.com/300'}" 
                     class="card-img-top" alt="${nft.title}" 
                     style="height: 200px; object-fit: cover;">
                <div class="card-body">
                    <h6 class="card-title">${nft.title || nft.file_name}</h6>
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="badge-stars">
                            <i class="fas fa-star"></i> ${nft.price}
                        </span>
                        <small class="text-white-50">
                            <i class="fas fa-eye"></i> ${nft.views}
                        </small>
                    </div>
                    <button class="btn btn-primary btn-sm w-100 mt-3" 
                            onclick="window.location.href='/nft/${nft.id}'">
                        –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                    </button>
                </div>
            </div>
        `;
        container.appendChild(col);
    });
}

function displayDemoNFTs() {
    const demos = [
        { id: 1, title: 'Cosmic Voyager', price: 150, views: 234, image: 'üöÄ' },
        { id: 2, title: 'Pixel Punk #42', price: 320, views: 567, image: 'üëæ' },
        { id: 3, title: 'Dragon Genesis', price: 500, views: 892, image: 'üêâ' },
        { id: 4, title: 'Neon Dreams', price: 275, views: 431, image: 'üåÉ' }
    ];
    
    const container = document.getElementById('popularNFTs');
    container.innerHTML = '';
    
    demos.forEach(demo => {
        const col = document.createElement('div');
        col.className = 'col-md-3 mb-4';
        col.innerHTML = `
            <div class="card h-100">
                <div class="card-img-top d-flex align-items-center justify-content-center" 
                     style="height: 200px; background: linear-gradient(45deg, var(--primary), var(--secondary));">
                    <span style="font-size: 4rem;">${demo.image}</span>
                </div>
                <div class="card-body">
                    <h6 class="card-title">${demo.title}</h6>
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="badge-stars">
                            <i class="fas fa-star"></i> ${demo.price}
                        </span>
                        <small class="text-white-50">
                            <i class="fas fa-eye"></i> ${demo.views}
                        </small>
                    </div>
                    <button class="btn btn-primary btn-sm w-100 mt-3" 
                            onclick="window.location.href='/market'">
                        –°–º–æ—Ç—Ä–µ—Ç—å
                    </button>
                </div>
            </div>
        `;
        container.appendChild(col);
    });
}

function animateNumber(elementId, start, end, duration) {
    const element = document.getElementById(elementId);
    if (!element) return;
    
    const range = end - start;
    const increment = range / (duration / 10);
    let current = start;
    
    const timer = setInterval(() => {
        current += increment;
        if (current >= end) {
            current = end;
            clearInterval(timer);
        }
        
        if (Number.isInteger(end)) {
            element.textContent = Math.round(current).toLocaleString();
        } else {
            element.textContent = current.toFixed(1);
        }
    }, 10);
}

// –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –∫ —Å–µ–∫—Ü–∏—è–º
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// –ü–∞—Ä–∞–ª–ª–∞–∫—Å —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è hero —Å–µ–∫—Ü–∏–∏
window.addEventListener('scroll', () => {
    const hero = document.querySelector('.hero-image');
    if (hero) {
        const scrolled = window.pageYOffset;
        hero.style.transform = `translateY(${scrolled * 0.5}px)`;
    }
});
</script>
{% endblock %}